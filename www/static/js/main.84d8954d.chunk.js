(this["webpackJsonpcom.example.tankmixdemo"]=this["webpackJsonpcom.example.tankmixdemo"]||[]).push([[0],{118:function(e,t,r){},132:function(e,t,r){"use strict";r.r(t);var n=r(76),a=r.n(n),c=r(2),o=r(83),i=(r(114),r(0)),s=r(12),u=r.n(s),l=r(22),d=(r(118),r(14)),j=r(11),b=r(6),O="AUTH_START",m="AUTH_SUCCESS",f="AUTH_FAILED",g="AUTH_LOGOUT",p="GET_PRODUCTS_SUCCESS",h="GET_PRODUCTS_FAILED",x="CREATE_PRODUCT_SUCCESS",v="CREATE_PRODUCT_FAILED",S="CREATE_PRODUCT_CLEANUP",E="MIX_RESULT_START",w="MIX_RESULT_SUCCESS",T="MIX_RESULT_FAILED",C="MIX_RESULT_CLEANUP",y="ADD_RESULT_TO_USER_RESULTS",R="GEOLOCATION_SUCCESS",I="GEOLOCATION_FAILED",L=function(e,t){return{type:m,data:e,dataResults:t}},N=function(){return{type:O}},A=function(e){return{type:f,err:e}},P=function(){return localStorage.removeItem("email"),localStorage.removeItem("password"),localStorage.removeItem("isAdmin"),function(e){e(D())}},D=function(){return{type:g}},_=r(30),k=function(){return function(e){window.db.transaction((function(t){t.executeSql("SELECT * FROM products",[],(function(t,r){for(var n=[],a=0;a<r.rows.length;a++)n.push(Object(b.a)({},r.rows.item(a)));e(B(n))}),(function(t,r){e(U("Something went wrong")),console.log("SELECT error: "+r.message)}))}))}},B=function(e){return{type:p,data:Object(_.a)(e)}},U=function(e){return{type:h,err:e}},M=function(e){return{type:x,data:e}},q=function(e){return{type:v,err:e}},Y=function(e){return{type:w,data:Object(_.a)(e)}},F=function(){return{type:E}},H=function(e){return{type:T,err:e}},V=function(e){return{type:y,data:e}},X=function(){return{type:I}},G=r(20),W=r(45),z=r(183),Q=function(e){return Object(c.jsx)(z.a,{type:e.type,id:e.id,name:e.name,placeholder:e.placeholder,value:e.value,onChange:function(t){return e.onChange(t)},onBlur:function(t){return e.onBlur(t)},error:!!e.label,label:e.label,multiline:!!e.multiline&&e.multiline,autoFocus:!!e.autoFocus&&e.autoFocus,required:!e.required||e.required,color:"primary",margin:"dense",fullWidth:!0,size:"medium",variant:"outlined"})},J=r(168),K=r(167),Z=r(188),$=Object(K.a)((function(e){return Object(Z.a)({btn:{marginTop:e.spacing(1),marginBottom:e.spacing(1),backgroundColor:"#00205b",color:"white"}})})),ee=function(e){var t=$();return Object(c.jsx)(J.a,{className:t.btn,type:e.type?e.type:"button",fullWidth:!0,color:"primary",size:e.size,variant:e.variant?e.variant:"contained",onClick:e.onClick,children:e.children})},te=r(187),re=function(e){var t=Object(j.c)((function(e){return e.auth})),r=Object(te.a)().t,n=Object(j.b)(),a=Object(i.useState)({error:"",value:""}),o=Object(G.a)(a,2),s=o[0],u=o[1],l=Object(i.useState)({error:"",value:""}),O=Object(G.a)(l,2),m=O[0],f=O[1],g=Object(i.useState)({error:"",value:""}),p=Object(G.a)(g,2),h=p[0],x=p[1],v=function(e){"email"===e.target.id?u((function(t){return Object(b.a)(Object(b.a)({},t),{},{value:e.target.value})})):"password"===e.target.id?f((function(t){return Object(b.a)(Object(b.a)({},t),{},{value:e.target.value})})):"rePassword"===e.target.id&&x((function(t){return Object(b.a)(Object(b.a)({},t),{},{value:e.target.value})}))},S=function(e){"password"===e.target.id||"rePassword"===e.target.id&&(h.value!==m.value?x((function(e){return Object(b.a)(Object(b.a)({},e),{},{error:r("formErrors.rePassword")})})):x((function(e){return Object(b.a)(Object(b.a)({},e),{},{error:""})})))};return t.data?Object(c.jsx)(d.a,{to:"/home"}):Object(c.jsxs)("div",{className:"center-middle-screen",children:[Object(c.jsx)(W.a,{variant:"h5",align:"center",gutterBottom:!0,children:r("signup")}),Object(c.jsxs)("form",{onSubmit:function(e){e.preventDefault(),""!==s.value&&""!==m.value&&""!==h.value&&n(function(e,t){return function(r){r(N()),window.db.transaction((function(n){n.executeSql("INSERT INTO users VALUES(?1, ?2, ?3)",[e,t,0],(function(n,a){localStorage.setItem("email",e),localStorage.setItem("password",t),r(L({email:e,password:t,isAdmin:0},[]))}),(function(e,t){r(A(t.message)),console.log("SELECT error: "+t.message)}))}))}}(s.value,m.value))},children:[Object(c.jsx)(Q,{id:"email",type:"email",label:s.error,value:s.value,placeholder:r("formPlaceholders.email"),onChange:v,onBlur:S}),Object(c.jsx)(Q,{id:"password",type:"password",label:m.error,value:m.value,placeholder:r("formPlaceholders.password"),onChange:v,onBlur:S}),Object(c.jsx)(Q,{id:"rePassword",type:"password",label:h.error,value:h.value,placeholder:r("formPlaceholders.rePassword"),onChange:v,onBlur:S}),Object(c.jsx)(ee,{type:"submit",children:r("register")})]})]})},ne=function(e){return Object(c.jsx)(J.a,{color:"primary",fullWidth:!0,component:l.b,to:e.to,replace:!!e.replace&&e.replace,children:e.children})},ae=r(185),ce=function(e){return Object(c.jsx)(ae.a,{severity:"error",children:e.message})},oe=function(e){StatusBar.show(),StatusBar.backgroundColorByHexString("#fff"),StatusBar.styleDefault();var t=Object(j.c)((function(e){return e.auth})),r=Object(j.b)(),n=Object(te.a)().t,a=Object(i.useState)({error:"",value:""}),o=Object(G.a)(a,2),s=o[0],u=o[1],l=Object(i.useState)({error:"",value:""}),O=Object(G.a)(l,2),m=O[0],f=O[1],g=function(e){"email"===e.target.id?u((function(t){return Object(b.a)(Object(b.a)({},t),{},{value:e.target.value})})):"password"===e.target.id&&f((function(t){return Object(b.a)(Object(b.a)({},t),{},{value:e.target.value})}))},p=function(e){e.target.id};return t.data?Object(c.jsx)(d.a,{to:"/home"}):Object(c.jsxs)("div",{className:"center-middle-screen",children:[t.error?Object(c.jsx)(ce,{message:t.error}):null,Object(c.jsx)(W.a,{variant:"h5",align:"center",gutterBottom:!0,children:n("login")}),Object(c.jsxs)("form",{onSubmit:function(e){e.preventDefault(),""!==s.value&&""!==m.value&&r(function(e,t){return function(r){r(N()),window.db.transaction((function(n){n.executeSql("SELECT * FROM users WHERE email = ?1 AND password = ?2",[e,t],(function(e,t){if(1===t.rows.length){var n=Object(b.a)({},t.rows.item(0));localStorage.setItem("email",n.email),localStorage.setItem("password",n.password),window.db.transaction((function(e){e.executeSql("SELECT * FROM results WHERE user_email = ?1",[n.email],(function(e,t){for(var a=[],c=0;c<t.rows.length;c++)a.push(t.rows.item(c));r(L(n,a))}))}))}else r(P())}),(function(e,t){r(A(t.message)),console.log("SELECT error: "+t.message)}))}))}}(s.value,m.value))},children:[Object(c.jsx)(Q,{id:"email",type:"email",label:s.error,value:s.value,placeholder:n("formPlaceholders.email"),onChange:g,onBlur:p}),Object(c.jsx)(Q,{id:"password",type:"password",label:m.error,value:m.value,placeholder:n("formPlaceholders.password"),onChange:g,onBlur:p}),Object(c.jsx)(ee,{type:"submit",children:n("login")}),Object(c.jsx)(W.a,{variant:"body1",align:"center",gutterBottom:!0,children:n("or")}),Object(c.jsx)(ne,{to:"/register",children:n("signup")})]})]})},ie=r(170),se=Object(K.a)((function(e){return Object(Z.a)({root:{color:"#00205b"}})})),ue=function(){var e=se();return Object(c.jsx)(ie.a,{className:e.root})},le=r.p+"static/media/YARA_RGB.67da0ad6.png",de=Object(K.a)((function(e){return Object(Z.a)({root:{marginBottom:e.spacing(2)}})})),je=function(){var e=de();return Object(c.jsxs)("div",{className:"center-middle-screen",children:[Object(c.jsx)("img",{className:e.root,src:le,alt:"yara logo"}),Object(c.jsx)("br",{}),Object(c.jsx)(ue,{})]})},be=function(e){var t=Object(j.c)((function(e){return e.auth}));return!0===t.isDone?null===t.data?Object(c.jsx)(d.a,{to:"/login"}):Object(c.jsx)(d.a,{to:"/home"}):Object(c.jsx)(je,{})},Oe=r(175),me=r(176),fe=r(177),ge=r(169),pe=r(190),he=r(172),xe=r(173),ve=r(178),Se=r(179),Ee=r(91),we=r.n(Ee),Te=r(166),Ce=r(171),ye=function(e){return Object(c.jsxs)(Te.a,{children:[Object(c.jsx)(Ce.a,{children:e.subHeader}),e.children]})},Re=Object(K.a)((function(e){return Object(Z.a)({root:{marginLeft:e.spacing(1),paddingTop:e.spacing(1),paddingBottom:e.spacing(1),color:"#00205b"}})})),Ie=function(e){var t=Re();return Object(c.jsx)(J.a,{className:t.root,onClick:e.onClick,children:e.children})},Le=function(e){return Object(c.jsx)(he.a,{button:!0,divider:!0,disabled:e.disabled,children:Object(c.jsx)(xe.a,{primary:e.content,onClick:e.onClick})})},Ne=r(174),Ae=r(189),Pe=Object(K.a)((function(e){return Object(Z.a)({avatar:{backgroundColor:"#00205b"}})})),De=function(e){var t=Object(j.c)((function(e){return e.auth.data})),r=Object(j.c)((function(e){return e.geolocation})),n=Pe();return Object(c.jsx)(Ne.a,{avatar:Object(c.jsx)(Ae.a,{"aria-label":"recipe",className:n.avatar,children:null===t||void 0===t?void 0:t.email[0].toUpperCase()}),title:null===t||void 0===t?void 0:t.email,subheader:r.location?r.location:null})},_e=r(184),ke=function(e){var t,r=Object(te.a)().t,n=(null===(t=e.weather)||void 0===t?void 0:t.split("&"))||[null,null],a=Object(G.a)(n,2),o=a[0],s=a[1];return Object(c.jsx)(i.Fragment,{children:null===e.weather?null:Object(c.jsxs)(_e.a,{m:0,p:0,children:[Object(c.jsx)(W.a,{variant:"subtitle2",align:"right",children:o}),Object(c.jsx)(W.a,{variant:"subtitle2",align:"right",children:"".concat(r("temp")).concat(s)})]})})},Be=Object(K.a)((function(e){return Object(Z.a)({root:{flexGrow:1,display:"flex"},appBar:{backgroundColor:"#00205b",position:"absolute",zIndex:e.zIndex.drawer+1},menuButton:{marginRight:e.spacing(1)},addButton:{marginLeft:e.spacing(0)},title:{flexGrow:1},drawer:{width:"66%",flexShrink:0},drawerPaper:{width:"66%"},drawerContainer:{overflow:"auto"}})})),Ue=function(e){var t=Be(),r=Object(j.b)(),n=Object(d.g)(),a=Object(te.a)(),o=a.t,s=a.i18n,u=Object(j.c)((function(e){return e.geolocation})),l=Object(i.useState)(!1),b=Object(G.a)(l,2),O=b[0],m=b[1],f=Object(i.useState)(!1),g=Object(G.a)(f,2),p=g[0],h=g[1];Object(i.useEffect)((function(){r((function(e){navigator.geolocation.getCurrentPosition((function(e){var t=localStorage.getItem("i18nextLng")||"en";"".concat(e.coords.latitude,",").concat(e.coords.longitude,"&language=").concat(t)}),(function(){return e(X())}),{enableHighAccuracy:!0})}))}),[r,p]);var x=function(e){s.changeLanguage(e),h(!p)};return Object(c.jsxs)("div",{className:t.root,children:[Object(c.jsx)(Oe.a,{}),Object(c.jsx)(me.a,{position:"fixed",className:t.appBar,children:Object(c.jsxs)(fe.a,{children:[Object(c.jsx)(ge.a,{edge:"start",className:t.menuButton,color:"inherit",onClick:function(){return m(!O)},children:Object(c.jsx)(we.a,{})}),Object(c.jsx)(W.a,{variant:"h5",className:t.title,children:"TankMix"}),Object(c.jsx)(ke,{weather:u.weather})]})}),Object(c.jsxs)(pe.a,{className:t.drawer,open:O,variant:"persistent",classes:{paper:t.drawerPaper},children:[Object(c.jsx)(fe.a,{}),Object(c.jsxs)("div",{className:t.drawerContainer,children:[Object(c.jsx)(De,{}),Object(c.jsxs)(ye,{children:[Object(c.jsx)(Le,{content:o("home"),onClick:function(){return n.replace("/home")}}),Object(c.jsx)(Le,{content:o("myMixResults"),onClick:function(){return n.replace("/user-mix-results")}}),Object(c.jsxs)(he.a,{children:[Object(c.jsx)(xe.a,{primary:o("language")}),Object(c.jsxs)(ve.a,{children:[Object(c.jsx)(Ie,{onClick:function(){return x("en")},children:"EN"}),Object(c.jsx)(Ie,{onClick:function(){return x("bg")},children:o("bg")})]})]}),Object(c.jsx)(Se.a,{}),Object(c.jsx)(Le,{content:o("qrCodeScanner"),onClick:function(){return window.QRScanner.scan((function(e,t){e||alert(t)}))}}),Object(c.jsx)(Le,{content:o("logout"),onClick:function(){return r(P())}})]})]})]}),Object(c.jsx)(fe.a,{})]})},Me=function(e){return StatusBar.show(),StatusBar.backgroundColorByHexString("#00205b"),StatusBar.styleLightContent(),Object(c.jsxs)(i.Fragment,{children:[Object(c.jsx)(Ue,{}),e.children]})},qe=r(192),Ye=r(180),Fe=r(66),He=r.n(Fe),Ve=Object(K.a)((function(e){return Object(Z.a)({root:{position:"absolute",bottom:e.spacing(3),right:e.spacing(3),backgroundColor:"#00205b",color:"white","&:hover":{backgroundColor:"#00205b"}}})})),Xe=function(){var e=Ve(),t=Object(d.g)();return Object(c.jsx)(qe.a,{title:"",children:Object(c.jsx)(Ye.a,{className:e.root,onClick:function(){return t.push("/add-product")},children:Object(c.jsx)(He.a,{})})})},Ge=function(e){var t,r=Object(te.a)().t,n=Object(d.g)(),a=Object(j.c)((function(e){return e.auth}));return Object(c.jsxs)(Me,{children:[Object(c.jsx)("div",{className:"center-middle-screen",children:Object(c.jsx)(ee,{variant:"contained",size:"large",onClick:function(){return n.push("/mix-products")},children:r("mixProducts")})}),1===(null===(t=a.data)||void 0===t?void 0:t.isAdmin)?Object(c.jsx)(Xe,{}):null]})},We=r(93),ze=r.n(We),Qe=function(e){return Object(c.jsxs)(he.a,{button:!0,divider:!0,children:[Object(c.jsx)(xe.a,{primary:e.content}),Object(c.jsx)(ve.a,{children:Object(c.jsx)(ge.a,{onClick:e.onClick,children:Object(c.jsx)(ze.a,{})})})]})},Je=r(191),Ke=Object(K.a)((function(e){return Object(Z.a)({backdrop:{zIndex:e.zIndex.drawer+1,color:"#fff"}})})),Ze=function(e){var t=Ke();return Object(c.jsx)(Je.a,{className:t.backdrop,open:e.open,children:Object(c.jsx)(ue,{})})},$e=function(){var e=Object(te.a)().t,t=Object(j.b)(),r=Object(j.c)((function(e){return e.products})),n=Object(j.c)((function(e){return e.auth})),a=Object(j.c)((function(e){return e.result})),o=Object(i.useState)([]),s=Object(G.a)(o,2),u=s[0],l=s[1],O=function(e){l((function(t){var r=t.map((function(e){return Object(b.a)({},e)}));return r.push(Object(b.a)({},e)),r}))},m=function(e){l((function(t){return t.filter((function(t){return t.name!==e.name}))}))};return a.done?Object(c.jsx)(d.a,{to:"/mix-result"}):Object(c.jsx)(Me,{children:null!==r.data?Object(c.jsxs)(_e.a,{width:1,children:[Object(c.jsx)(Ze,{open:a.loading}),u.length>0?Object(c.jsx)(ye,{subHeader:e("selectedProducts"),children:u.map((function(e){return Object(c.jsx)(Qe,{content:e.name,onClick:function(){return m(e)}},e.name)}))}):null,2===u.length?Object(c.jsx)(_e.a,{px:2,children:Object(c.jsx)(ee,{onClick:function(){t(function(e,t){return function(r){r(F()),setTimeout((function(){window.db.transaction((function(n){var a={user_email:e,f_product:t[0].name,s_product:t[1].name,datetime:(new Date).toString()};n.executeSql("INSERT INTO results VALUES(?1, ?2, ?3, ?4)",[a.user_email,a.f_product,a.s_product,a.datetime],(function(e,n){r(Y(t)),r(V(a)),cordova.plugins.notification.local.schedule({title:"Your Mix Result is ready!",text:"Click to view it..."})}),(function(e,t){H("Something went wrong"),console.log("SELECT error: "+t.message)}))}))}),1500)}}(n.data.email,u))},children:e("createMix")})}):null,r.data.length>0?Object(c.jsx)(ye,{subHeader:e("products"),children:r.data.sort().map((function(e){return Object(c.jsx)(Le,{content:e.name,onClick:function(){return O(e)},disabled:!(!u.some((function(t){return t.name===e.name}))&&2!==u.length)},e.name)}))}):null]}):null})},et=r(181),tt=r(182),rt=function(e){return Object(c.jsx)(i.Fragment,{children:e.source.startsWith("http")?Object(c.jsx)("img",{src:e.source,alt:"img",height:"150"}):Object(c.jsx)("img",{src:"data:image/jpeg;base64,".concat(e.source),alt:"img",height:"150"})})},nt=Object(K.a)((function(e){return Object(Z.a)({root:{width:"66%",margin:"0 auto",marginBlock:e.spacing(2)}})})),at=function(e){var t=nt();return Object(c.jsx)(et.a,{className:t.root,variant:"outlined",children:Object(c.jsxs)(tt.a,{children:[null!==e.product.imageURL?Object(c.jsx)(rt,{source:e.product.imageURL}):null,Object(c.jsx)(W.a,{variant:"h5",children:e.product.name}),Object(c.jsx)(W.a,{variant:"body1",children:e.product.description})]})})},ct=Object(K.a)((function(e){return Object(Z.a)({root:{width:"50%",margin:"0 auto",marginTop:e.spacing(1)}})})),ot=function(e){var t=ct(),r=Object(te.a)().t,n=Object(j.b)(),a=Object(j.c)((function(e){return e.result}));return Object(i.useEffect)((function(){return function(){n({type:C})}}),[n]),Object(c.jsx)(Me,{children:Object(c.jsxs)("div",{className:"center-middle-screen",children:[Object(c.jsx)(W.a,{variant:"h4",gutterBottom:!0,children:r("mixResult")}),Object(c.jsx)(at,{product:a.data[0]}),Object(c.jsx)(He.a,{}),Object(c.jsx)(at,{product:a.data[1]}),Object(c.jsx)(J.a,{className:t.root,color:"primary",component:l.b,to:"/home",replace:!0,children:r("home")})]})})},it={title:"Select Photo",buttonLabels:["Camera","Gallery"],androidEnableCancelButton:!0,addCancelButtonWithLabel:"Cancel"},st=function(e){var t=Object(te.a)().t,r=Object(j.b)(),n=Object(j.c)((function(e){return e.products})),a=Object(i.useState)({value:"",error:""}),o=Object(G.a)(a,2),s=o[0],u=o[1],l=Object(i.useState)({value:"",error:""}),O=Object(G.a)(l,2),m=O[0],f=O[1],g=Object(i.useState)(null),p=Object(G.a)(g,2),h=p[0],x=p[1];Object(i.useEffect)((function(){return function(){r({type:S})}}),[r]);var v=function(e){1===e?navigator.camera.getPicture((function(e){x(e)}),(function(e){return alert(e)}),{quality:75,destinationType:Camera.DestinationType.DATA_URL,sourceType:Camera.PictureSourceType.CAMERA,saveToPhotoAlbum:!1}):2===e&&navigator.camera.getPicture((function(e){x(e)}),(function(e){return alert(e)}),{quality:75,destinationType:Camera.DestinationType.DATA_URL,sourceType:Camera.PictureSourceType.PHOTOLIBRARY,saveToPhotoAlbum:!1})};return n.isAddingDone?Object(c.jsx)(d.a,{to:"/home"}):Object(c.jsx)(Me,{children:Object(c.jsxs)("div",{className:"center-middle-screen",children:[Object(c.jsx)(W.a,{variant:"h5",align:"center",gutterBottom:!0,children:t("newProduct")}),Object(c.jsxs)("form",{onSubmit:function(e){var t,n,a;(e.preventDefault(),""!==s.value&&""!==m.value)&&r((t=s.value,n=m.value,a=h,function(e){var r={name:t,description:n,imageURL:a};window.db.transaction((function(c){c.executeSql("INSERT INTO products VALUES(?1, ?2, ?3)",[t,n,a],(function(t,n){e(M(r))}),(function(t,r){e(q(r.message)),console.log("SELECT error: "+r.message)}))}))}))},children:[Object(c.jsx)(Q,{id:"productName",type:"text",label:s.error,value:s.value,placeholder:t("formPlaceholders.name"),onChange:function(e){return u((function(t){return Object(b.a)(Object(b.a)({},t),{},{value:e.target.value})}))},onBlur:function(e){return u((function(r){return Object(b.a)(Object(b.a)({},r),{},{error:""===e.target.value?t("formErrors.cannotBeEmpty"):""})}))}}),Object(c.jsx)(Q,{id:"productDesc",type:"text",multiline:!0,label:m.error,value:m.value,placeholder:t("formPlaceholders.description"),onChange:function(e){return f((function(t){return Object(b.a)(Object(b.a)({},t),{},{value:e.target.value})}))},onBlur:function(e){return f((function(r){return Object(b.a)(Object(b.a)({},r),{},{error:""===e.target.value?t("formErrors.cannotBeEmpty"):""})}))}}),Object(c.jsx)(ee,{onClick:function(){return window.plugins.actionsheet.show(it,v)},children:t("addPhoto")}),Object(c.jsx)(ee,{type:"submit",children:t("addProduct")})]})]})})},ut=function(e){var t=Object(te.a)().t,r=e.data,n=r.f_product,a=r.s_product,o=r.datetime;return Object(c.jsx)(he.a,{button:!1,divider:!0,children:Object(c.jsx)(xe.a,{primary:"".concat(t("mixOf")," ").concat(n," ").concat(t("and")," ").concat(a),secondary:t("date",{date:new Date(o)})})})},lt=function(){var e=Object(j.c)((function(e){return e.auth.results})),t=Object(te.a)().t;return Object(c.jsx)(Me,{children:Object(c.jsx)(ye,{subHeader:t("mostRecentResults"),children:e.reverse().map((function(e,t){return Object(c.jsx)(ut,{data:e},t)}))})})},dt=function(){var e=Object(j.c)((function(e){return e.auth})),t=Object(j.b)();return Object(i.useEffect)((function(){t((function(e){var t=localStorage.getItem("email"),r=localStorage.getItem("password");setTimeout((function(){e(N()),e(k()),window.db.transaction((function(n){n.executeSql("SELECT * FROM users WHERE email = ?1 AND password = ?2",[t,r],(function(t,r){if(1===r.rows.length){var n=Object(b.a)({},r.rows.item(0));localStorage.setItem("email",n.email),localStorage.setItem("password",n.password),localStorage.setItem("isAdmin",n.isAdmin),window.db.transaction((function(t){t.executeSql("SELECT * FROM results WHERE user_email = ?1",[n.email],(function(t,r){for(var a=[],c=0;c<r.rows.length;c++)a.push(r.rows.item(c));e(L(n,a))}))}))}else e(P())}),(function(t,r){e(A(r.message)),console.log("SELECT error: "+r.message)}))}))}),2e3)}))}),[t]),Object(c.jsxs)(d.d,{children:[Object(c.jsx)(d.b,{exact:!0,path:"/",component:be}),Object(c.jsx)(d.b,{path:"/login",children:null===e.data?Object(c.jsx)(oe,{}):Object(c.jsx)(d.a,{to:"/home"})}),Object(c.jsx)(d.b,{path:"/register",children:null===e.data?Object(c.jsx)(re,{}):Object(c.jsx)(d.a,{to:"/home"})}),Object(c.jsx)(d.b,{path:"/home",children:null===e.data?Object(c.jsx)(d.a,{to:"/login"}):Object(c.jsx)(Ge,{})}),Object(c.jsx)(d.b,{path:"/mix-products",children:null===e.data?Object(c.jsx)(d.a,{to:"/login"}):Object(c.jsx)($e,{})}),Object(c.jsx)(d.b,{path:"/mix-result",children:null===e.data?Object(c.jsx)(d.a,{to:"/login"}):Object(c.jsx)(ot,{})}),Object(c.jsx)(d.b,{path:"/add-product",children:null===e.data?Object(c.jsx)(d.a,{to:"/login"}):Object(c.jsx)(st,{})}),Object(c.jsx)(d.b,{path:"/user-mix-results",children:null===e.data?Object(c.jsx)(d.a,{to:"/login"}):Object(c.jsx)(lt,{})})]})},jt=r(80),bt=r(94),Ot=r(95),mt=r(96),ft=r(57),gt=r(97),pt=r.n(gt),ht={en:{translation:Ot},bg:{translation:mt}};jt.a.use(bt.a).use(ft.e).init({resources:ht,detection:{order:["querystring","cookie","localStorage","sessionStorage","navigator","htmlTag","path","subdomain"],lookupQuerystring:"lng",lookupCookie:"i18next",lookupLocalStorage:"i18nextLng",lookupSessionStorage:"i18nextLng",lookupFromPathIndex:0,lookupFromSubdomainIndex:0,caches:["localStorage","cookie"],excludeCacheFor:["cimode"]},fallbackLng:"en",interpolation:{escapeValue:!1,format:function(e,t){return e instanceof Date?pt()(e).format(t):e}}});jt.a,r(131);var xt=function(e){e.executeSql("CREATE TABLE IF NOT EXISTS users (email TEXT UNIQUE , password TEXT, isAdmin INTEGER)"),e.executeSql("CREATE TABLE IF NOT EXISTS products (name TEXT UNIQUE, description TEXT, imageURL)"),e.executeSql("CREATE TABLE IF NOT EXISTS errors (user_email, message, stacktrace, datetime)"),e.executeSql("CREATE TABLE IF NOT EXISTS results (user_email, f_product, s_product, datetime)")},vt=function(e){e.executeSql("SELECT count(*) AS productsCount FROM products",[],(function(e,t){0===t.rows.item(0).productsCount&&(e.executeSql("INSERT INTO products VALUES (?1,?2,?3)",["Yara Liva","Yara Liva Description","https://brandcenter.yara.com/fr/gallery/12632/images/lowres/faffd2805174417c9f29b648d2a598ee.png"]),e.executeSql("INSERT INTO products VALUES (?1,?2,?3)",["Yara Mila","Yara Mila Description","https://brandcenter.yara.com/fr/gallery/12632/images/lowres/9f4bfd3392cc4afa88bcda9e1bae4d12.png"]),e.executeSql("INSERT INTO products VALUES (?1,?2,?3)",["Yara Bela","Yara Bela Description","https://brandcenter.yara.com/fr/gallery/12632/images/lowres/6c3263fb17654accafebbb5523a50ef2.png"]),e.executeSql("INSERT INTO products VALUES (?1,?2,?3)",["Yara Vera","Yara Vera Description","https://brandcenter.yara.com/fr/gallery/12632/images/lowres/e22b2270782047aca40161e3a55a6981.png"]),e.executeSql("INSERT INTO products VALUES (?1,?2,?3)",["Yara Vita","Yara Vita Description","https://brandcenter.yara.com/fr/gallery/12632/images/lowres/a401c1234c244c18bd7fe62fb3b622a0.png"]),e.executeSql("INSERT INTO products VALUES (?1,?2,?3)",["Yara Tera","Yara Tera Description","https://brandcenter.yara.com/fr/gallery/12632/images/lowres/8ce4d17be6da4f5ca04291fe3cdea493.png"]),e.executeSql("INSERT INTO products VALUES (?1,?2,?3)",["Yara Rega","Yara Rega Description","https://brandcenter.yara.com/fr/gallery/12632/images/lowres/36c5a49a06ae479ea744ddf16b5ce575.png"]),e.executeSql("INSERT INTO products VALUES (?1,?2,?3)",["Yara Basa","Yara Basa Description","https://brandcenter.yara.com/fr/gallery/12632/images/lowres/f66b241cffee49018102eaad0376f951.png"]),e.executeSql("INSERT INTO users VALUES (?1,?2,?3)",["we1000@abv.bg","14",1]))}),(function(e,t){console.log("SELECT error: "+t.message)}))},St=r(49),Et=r(98),wt={data:null,isDone:!1,results:[],error:null},Tt=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:wt,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case O:return Object(b.a)({},wt);case m:return Object(b.a)(Object(b.a)({},e),{},{data:Object(b.a)({},t.data),results:Object(_.a)(t.dataResults),isDone:!0,error:null});case f:return Object(b.a)(Object(b.a)({},e),{},{isDone:!0,error:t.err});case y:return Object(b.a)(Object(b.a)({},e),{},{results:[].concat(Object(_.a)(e.results),[t.data])});case g:return Object(b.a)(Object(b.a)({},wt),{},{isDone:!0});default:return e}},Ct={data:null,isAddingDone:!1,error:null},yt=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ct,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case p:return Object(b.a)(Object(b.a)({},e),{},{data:Object(_.a)(t.data),error:null});case h:return Object(b.a)(Object(b.a)({},e),{},{error:t.err});case x:return console.log(t.data),Object(b.a)(Object(b.a)({},e),{},{data:[].concat(Object(_.a)(e.data),[t.data]),isAddingDone:!0,error:null});case v:return Object(b.a)(Object(b.a)({},e),{},{error:t.err});case S:return Object(b.a)(Object(b.a)({},e),{},{isAddingDone:!1,error:null});default:return e}},Rt={data:[],loading:!1,done:!1,error:null},It=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Rt,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case E:return Object(b.a)(Object(b.a)({},Rt),{},{done:!1,loading:!0});case w:return Object(b.a)(Object(b.a)({},e),{},{data:Object(_.a)(t.data),done:!0,loading:!1,error:null});case T:return Object(b.a)(Object(b.a)({},e),{},{loading:!1,error:t.err});case C:return Object(b.a)({},Rt);default:return e}},Lt={location:null,weather:null},Nt=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Lt,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case R:return Object(b.a)(Object(b.a)({},e),{},{location:t.location,weather:t.weather});case I:return Object(b.a)({},Lt);default:return e}};window.db=null;var At=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||St.d,Pt=Object(St.c)({auth:Tt,products:yt,result:It,geolocation:Nt}),Dt=Object(St.e)(Pt,At(Object(St.a)(Et.a)));document.addEventListener("deviceready",Object(o.a)(a.a.mark((function e(){return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:window.db=window.sqlitePlugin.openDatabase({name:"my.db",location:"default"}),StatusBar.hide(),cordova.plugins.notification.local.setDefaults({smallIcon:"res://icons/logo-mono-version.png",foreground:!0,vibrate:!0}),window.db.transaction((function(e){xt(e)}),(function(e){console.log("Transaction ERROR: "+e.message)}),(function(e){window.db.transaction((function(e){vt(e)}),(function(e){console.log("Transaction ERROR: "+e.message)}),(function(e){u.a.render(Object(c.jsx)(j.a,{store:Dt,children:Object(c.jsx)(l.a,{children:Object(c.jsx)(dt,{})})}),document.getElementById("root"))}))}));case 4:case"end":return e.stop()}}),e)}))),!1)},95:function(e){e.exports=JSON.parse('{"login":"Login","signup":"Sign Up","register":"Register","or":"or","newProduct":"New Product","addProduct":"Add Product","formPlaceholders":{"email":"Email...","password":"Password...","rePassword":"Repeat Password...","name":"Name...","description":"Description..."},"formErrors":{"rePassword":"Passwords doesn\'t match","cannotBeEmpty":"Cannot be empty"},"mixProducts":"Mix Products","createMix":"Create Mix","home":"Home","myMixResults":"My Mix Results","language":"Language","logout":"Log Out","demo":"Demo","bg":"BG","products":"Products","selectedProducts":"Selected Products","mostRecentResults":"Your Most Recent Results","mixResult":"Mix Result","and":"and","mixOf":"Mix of","date":"on {{date, MM/DD/YYYY}} at {{date, HH:MM:SS}}","qrCodeScanner":"QR Code Scanner","temp":"Temperature: ","addPhoto":"Upload Image"}')},96:function(e){e.exports=JSON.parse('{"login":"\u0412\u0445\u043e\u0434","signup":"\u0420\u0435\u0433\u0438\u0441\u0442\u0440\u0430\u0446\u0438\u044f","register":"\u0420\u0435\u0433\u0438\u0441\u0442\u0440\u0430\u0446\u0438\u044f","or":"\u0438\u043b\u0438","newProduct":"\u041d\u043e\u0432 \u041f\u0440\u043e\u0434\u0443\u043a\u0442","addProduct":"\u0414\u043e\u0431\u0430\u0432\u0438 \u041f\u0440\u043e\u0434\u0443\u043a\u0442","formPlaceholders":{"email":"\u0418\u043c\u0435\u0439\u043b...","password":"\u041f\u0430\u0440\u043e\u043b\u0430...","rePassword":"\u041f\u043e\u0432\u0442\u043e\u0440\u0438 \u041f\u0430\u0440\u043e\u043b\u0430...","name":"\u0418\u043c\u0435...","description":"\u041e\u043f\u0438\u0441\u0430\u043d\u0438\u0435..."},"formErrors":{"rePassword":"\u041f\u0430\u0440\u043e\u043b\u0438\u0442\u0435 \u043d\u0435 \u0441\u044a\u0432\u043f\u0430\u0434\u0430\u0442","cannotBeEmpty":"\u041d\u0435 \u043c\u043e\u0436\u0435 \u0434\u0430 \u0431\u044a\u0434\u0435 \u043f\u0440\u0430\u0437\u043d\u043e"},"mixProducts":"\xa0\u0421\u043c\u0435\u0441\u0438 \u041f\u0440\u043e\u0434\u0443\u043a\u0442\u0438","createMix":"\u0421\u044a\u0437\u0434\u0430\u0439 \u0421\u043c\u0435\u0441","home":"\u041d\u0430\u0447\u0430\u043b\u043e","myMixResults":"\u041c\u043e\u0438\u0442\u0435 \u0420\u0435\u0437\u0443\u043b\u0442\u0430\u0442\u0438","language":"\u0415\u0437\u0438\u043a","logout":"\u0418\u0437\u0445\u043e\u0434","demo":"\u0414\u0435\u043c\u043e","bg":"\u0411\u0413","products":"\u041f\u0440\u043e\u0434\u0443\u043a\u0442\u0438","selectedProducts":"\u0418\u0437\u0431\u0440\u0430\u043d\u0438 \u041f\u0440\u043e\u0434\u0443\u043a\u0442\u0438","mostRecentResults":"\u041d\u0430\u0439-\u043d\u043e\u0432\u0438 \u0420\u0435\u0437\u0443\u043b\u0442\u0430\u0442\u0438","mixResult":"\u0420\u0435\u0437\u0443\u043b\u0442\u0430\u0442","and":"\u0438","mixOf":"\u0421\u043c\u0435\u0441 \u043e\u0442","date":"\u043d\u0430 {{date, DD/MM/YYYY}} \u0432 {{date, HH:MM:SS}}","qrCodeScanner":"QR \u0421\u043a\u0430\u043d\u0438\u0440\u0430\u043d\u0435","temp":"\u0422\u0435\u043c\u043f\u0435\u0440\u0430\u0442\u0443\u0440\u0430: ","addPhoto":"\u041a\u0430\u0447\u0438 \u0421\u043d\u0438\u043c\u043a\u0430"}')}},[[132,1,2]]]);
//# sourceMappingURL=main.84d8954d.chunk.js.map